<!DOCTYPE html>
<html>
<head>
	<title>Account Page Example</title>
	<meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />

	<link type="text/css" rel="stylesheet"
		href="../dist/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="scratch.css" />

	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="../dist/js/bootstrap.min.js"></script>

	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js"></script>

	<script src="forms.js"></script>

	<script>
	angular.module('ExampleApp', ['tw.styleguide-components']);
	</script>

	<script src="js/transfers.service.js"></script>
	<script src="js/currencies.service.js"></script>

	<script src="js/one-click.directive.js"></script>
	<script src="js/nav.directive.js"></script>
	<script src="js/simple-nav.directive.js"></script>
	<script src="js/side-nav.directive.js"></script>
	<script src="js/start-new.directive.js"></script>
	<script src="js/next-cards.directive.js"></script>
	<script src="js/transfer-list.directive.js"></script>
	<script src="js/transfer-history-table.directive.js"></script>
	<script src="js/transfer-description.directive.js"></script>
	<script src="js/transfer-details.directive.js"></script>
	<script src="js/transfer-type-icon.directive.js"></script>
	<script src="js/transfer-actions.directive.js"></script>
	<script src="js/transfer-activity.directive.js"></script>
	<script src="js/transfer-activity-expanded.directive.js"></script>
	<script src="js/repeat-transfer.directive.js"></script>
	<script src="js/currency-input.directive.js"></script>
	<script src="js/pagination.directive.js"></script>
	<script src="js/profile-block.directive.js"></script>
	<script src="js/footer.directive.js"></script>


	<script src="//transferwise.github.io/styleguide-components/dist/js/styleguide-components.js"></script>

	<script>
	(function(angular) {

		angular.module('ExampleApp')
		.controller('PageController', [
			'TransferService',
			'CurrencyService',
			PageController
		]);

		function PageController(TransferService, CurrencyService) {
			var $ctrl = this;

			CurrencyService.map().then(function(currencies) {
				$ctrl.currencies = currencies;
			});

			TransferService.list({status: [
				"PAUSED",
				"AWAITING_FUNDS",
				"PROCESSING"
			]}).then(function(transfers) {
				$ctrl.activeTransfers = transfers;
			});

			TransferService.list({status: [
				"COMPLETED",
				"CANCELLED",
			]}).then(function(transfers) {
				$ctrl.historicTransfers = transfers;
			});

			$ctrl.burgerToggle = function() {
				$ctrl.open = !$ctrl.open;
			}
			$ctrl.sideNavToggle = function() {
				console.log('temp 1: '+ $ctrl.sideNav);
				$ctrl.sideNav = !$ctrl.sideNav;

				console.log('temp 2: '+ $ctrl.sideNav);
			}
			$ctrl.sideNav = true;
		}
	})(window.angular);
	</script>
</head>
<body ng-app="ExampleApp" class="bg-default" ng-controller="PageController as ctrl">
<nav-bar ng-if="!ctrl.sideNav" fluid="ctrl.sideNav"></nav-bar>
<div class="column-layout">
	<div class="column-layout-left bg-primary" ng-class="{open: ctrl.open}" ng-if="ctrl.sideNav">
		<div class="column-layout-top">
			<!--
			<a href="../"
				class="logo logo-inverse visible-xs-block visible-sm-block visible-md-block logo-3 m-b-3"
				title="TransferWise"></a>
			<!- -->
			<side-nav></side-nav>
		</div>

		<div class="column-layout-bottom">

			<!--
			<div id="carousel-example-generic" class="carousel slide m-a-2" data-ride="carousel" style="margin-top: 560px !important;">

			  <ol class="carousel-indicators">
			    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
			    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
			    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
			  </ol>

			  <div class="carousel-inner p-b-2" role="listbox">
			    <div class="item active">
			        <div class="media">
								<div class="media-left text-info">
									<i class="icon icon-gift icon-xxl"></i>
								</div>
								<div class="media-body text-xs-left text-max-width">
									<h3 class="h5 m-b-0">Earn £50 credit</h3>
									<p>Give someone a free transfer for up to £500</p>
								</div>
							</div>
			    </div>
			    <div class="item">
			        <div class="media">
								<div class="media-left text-info">
									<i class="icon icon-request icon-xxl"></i>
								</div>
								<div class="media-body text-xs-left text-max-width">
									<h3 class="h5 m-b-0">Request money</h3>
									<p>from friends and family and customers</p>
								</div>
							</div>
			    </div>
			    <div class="item">
			        <div class="media">
								<div class="media-left text-info">
									<i class="icon icon-line-graph icon-xxl"></i>
								</div>
								<div class="media-body text-xs-left text-max-width">
									<h3 class="h5 m-b-0">Rate alerts</h3>
									<p>sign up no to be alerted when the rate reaches your chosen value</p>
								</div>
							</div>
			    </div>
			  </div>


			  <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev" style="margin-top: 128px;">
			    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
			    <span class="sr-only">Previous</span>
			  </a>
			  <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next" style="margin-top: 128px;">
			    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
			    <span class="sr-only">Next</span>
			  </a>
			</div>
		-->
			<!--
			<div class="btn-group btn-block dropup">
				<button type="button" class="btn btn-success">
					<span class="hidden-xs hidden-sm hidden-md">Send money</span>
					<span class="hidden-lg hidden-xl">Send</span>
				</button>
				<button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
					<span class="caret rotate180" style="position: absolute; top: 16px; right: 20px;"></span>
					<span class="sr-only">Toggle Dropdown</span>
				</button>
				<div class="dropdown-menu dropdown-menu-lg text-primary p-a-3" role="menu" style="width: 800px; margin-bottom: 64px;">
					<h3 class="text-primary m-b-2">Create</h3>
					<div class="row row-equal-height">
						<div class="col-xs-12 col-sm-6 m-b-0">
							<div class="tile" tabindex="0" role="button">
								<div class="tile-icon">
									<div class="circle circle-lg circle-responsive">
										<i class="icon icon-send"></i>
									</div>
								</div>
								<div class="tile-text">
									<h5 class="text-primary">Send money</h5>
									<p>Send money to a bank account or person</p>
								</div>
							</div>
						</div>
						<div class="col-xs-12 col-sm-6 m-b-0">
							<div class="tile" tabindex="0" role="button">
								<div class="tile-icon">
									<div class="circle circle-lg circle-responsive">
										<i class="icon icon-request"></i>
									</div>
								</div>
								<div class="tile-text">
									<h5 class="text-primary">Request money</h5>
									<p>Request a specific amount of money from someone</p>
								</div>
							</div>
						</div>
						<div class="col-xs-12 col-sm-6 m-b-0">
							<div class="tile" tabindex="0" role="button">
								<div class="tile-icon">
									<div class="circle circle-lg circle-responsive">
										<i class="icon icon-gift"></i>
									</div>
								</div>
								<div class="tile-text">
									<h5 class="text-primary">Invite friends</h5>
									<p>Invite friends to earn rewards</p>
								</div>
							</div>
						</div>
						<div class="col-xs-12 col-sm-6 m-b-0">
							<div class="tile" tabindex="0" role="button">
								<div class="tile-icon">
									<div class="circle circle-lg circle-responsive">
										<i class="icon icon-line-graph"></i>
									</div>
								</div>
								<div class="tile-text">
									<h5 class="text-primary">Create rate alert</h5>
									<p>Be notified when a rate hits a specific value</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!- -->
		</div>
	</div>
	<div class="column-layout-main">
		<div class="top-nav" ng-if="ctrl.sideNav">
			<simple-nav on-burger-click="ctrl.burgerToggle()" fluid="ctrl.sideNav"></simple-nav>
		</div>
		<div ng-class="{'container': !ctrl.sideNav, 'container-fluid': ctrl.sideNav}">
			<div class="row">
				<div class="col-sm-6 col-md-7 col-xl-9">
					<h1 class="hidden-lg hidden-xl m-t-3 h3">Activity</h1>
				</div>
				<div class="col-sm-6 col-md-5 col-xl-3 hidden-lg hidden-xl">
					<div class="input-group input-group-sm m-t-3">
						<span class="input-group-addon"><i class="icon icon-search m-r-0"></i></span>
						<input type="text" class="form-control" placeholder="Search..." />
						<span class="input-group-btn">
							 <button class="btn btn-sm btn-primary" ng-click="ctrl.sideNavToggle()">Go</button>
						</span>
					</div>
				</div>
			</div>
			<!--<div class="m-t-panel m-b-panel">
				<next-cards show="2"></next-cards>
			</div>-->
			<!--
			<div class="">
				<profile-block></profile-block>
			</div>
		-->
			<div class="m-t-3 hidden-xl">
				<activity-filters></activity-filters>
			</div>

			<div class="panel m-t-2">
				<div class="panel-heading p-t-0">
					<div class="row">
						<div class="col-sm-6 col-md-7 col-xl-9">
							<h6 class="panel-title">
								In progress ({{ctrl.activeTransfers.length}})
							</h6>
						</div>
						<div class="col-sm-6 col-md-5 col-xl-3 hidden-xs hidden-sm hidden-md">
							<div class="input-group input-group-sm m-t-1">
								<span class="input-group-addon"><i class="icon icon-search m-r-0"></i></span>
								<input type="text" class="form-control" placeholder="Search..." />
								<span class="input-group-btn">
									 <button class="btn btn-sm btn-primary" ng-click="ctrl.sideNavToggle()">Go</button>
								</span>
							</div>
						</div>
					</div>
				</div>
				<transfer-list
					transfers="ctrl.activeTransfers"
					currencies="ctrl.currencies"
					inactive="false">
				</transfer-list>
			</div>

			<div class="panel">
				<div class="panel-heading">
					<h6 class="panel-title">
						Recent ({{ctrl.historicTransfers.length}})
					</h6>
				</div>
				<transfer-list
					transfers="ctrl.historicTransfers"
					currencies="ctrl.currencies"
					inactive="true">
				</transfer-list>
				<div class="panel-footer">
					<pagination page="1" total="200"></pagination>
				</div>
			</div>

			<div class="text-xs-center section">
				&copy; TransferWise 2016
			</div>
		</div>
	</div>
	<div class="column-layout-cover"
		ng-class="{in: ctrl.open}"
		ng-click="ctrl.open = !ctrl.open;">
		<a class="close">&times;</a>
	</div>
	<!--
	<div class="navbar navbar-fixed-bottom bg-primary visible-xs visible-sm p-x-1">
		<ul class="nav nav-justified nav-inverse">
			<li><button class="navbar-btn btn btn-sm btn-block btn-success">Create</button></li>
			<li class="active"><a href="">Activity</a></li>
			<li><a href="" ng-click="ctrl.open = !ctrl.open">More...</a></li>
		</ul>
	</div>
	-->
</div>
</body>
</html>
