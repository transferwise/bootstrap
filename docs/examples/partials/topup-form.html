<form ng-if="!$ctrl.complete" ng-submit="$ctrl.submit()">
	<div class="form-group form-group-lg">
		<label class="control-label">Top up</label>
		<div class="input-group input-group-lg" ng-init="$ctrl.currency1 = 'usd'">
			<input type="text" class="form-control"
				value="1,000"
				placeholder=".input-group" />
			<span class="input-group-btn currency-select">
				<tw-select options="$ctrl.currencies" tw-focusable
					ng-model="$ctrl.currency1"
					ng-required="true"
					filter="Search for currency / country"
					size="lg"
					inverse="true"
					dropdown-right="xs"
					dropdown-width="lg"
					hide-note="true">
				</tw-select>
			</span>
		</div>
	</div>
	<div class="form-group" ng-if="$ctrl.currency1 !== 'usd'">
		<label class="control-label">You don't have a {{$ctrl.currency1 | uppercase}} balance</label>
		<div class="radio" ng-init="$ctrl.action = 'open'">
			<label>
				<tw-radio name="radio1" ng-model="$ctrl.action" ng-value="'open'" tw-focusable></tw-radio>
				Open a {{$ctrl.currency1 | uppercase}} balance
			</label>
		</div>
		<div class="radio m-b-0">
			<label>
				<tw-radio name="radio1" ng-model="$ctrl.action" ng-value="'convert'" tw-focusable></tw-radio>
				Convert to USD balance
			</label>
		</div>

		<ul ng-if="$ctrl.action === 'convert'"
			class="sequence sequence-top sequence-bottom sequence-table">
			<!-- this looks weird because we could just have one of these and
			keep it visible, but there's a weird Safari bug on first-child that
			causes padding to increase every time it's toggled -->
			<li ng-if="!$ctrl.showFees">
				<a href="" ng-click="$ctrl.showFees = !$ctrl.showFees">
					<span class="sequence-icon"><i class="icon icon-close"></i></span>
				</a>
				<div class="sequence-table-th"><strong>6.99 GBP</strong></div>
				<div class="sequence-table-th"><strong>Total fees</strong></div>
			</li>
			<li ng-if="$ctrl.showFees">
				<div class="sequence-table-th">4.99 GBP</div>
				<div class="sequence-table-td">TransferWise fee</div>
			</li>
			<li ng-if="$ctrl.showFees">
				<div class="sequence-table-th">{{$ctrl.payInMethod}}</div>
				<div class="sequence-table-td">
					Pay with
					<span style="display: inline-block">
						<tw-select class="m-b-0"
							options="$ctrl.payInMethods"
							ng-model="$ctrl.payInMethod"
							ng-required="true"
							dropdown-width="md"
							hide-note="true"
							size="sm">
						</tw-select>
					</span>
				</div>
			</li>
			<li ng-if="$ctrl.showFees">
				<a href=""  ng-click="$ctrl.showFees = !$ctrl.showFees">
					<span class="sequence-icon"><i class="icon icon-close"></i></span>
				</a>
				<div class="sequence-table-th"><strong>6.99 GBP</strong></div>
				<div class="sequence-table-th"><strong>Total fees</strong></div>
			</li>
			<li ng-if="$ctrl.showFees">
				<div class="sequence-table-th">993.01 GBP</div>
				<div class="sequence-table-td">Amount to convert</div>
			</li>
			<li>
				<div class="sequence-table-th">1.23456</div>
				<div class="sequence-table-td">Guaranteed rate</div>
			</li>
		</ul>
		<div class="form-group form-group-lg" ng-if="$ctrl.action === 'convert'">
			<label class="control-label">You get</label>
			<div class="input-group input-group-lg">
				<input type="text" class="form-control" value="1,234.56" />
				<span class="input-group-addon">
					USD
				</span>
			</div>
		</div>
	</div>
	<button class="btn btn-success btn-block" type="submit"
		ng-disabled="$ctrl.processing">
		<tw-process size="xs" ng-if="$ctrl.processing"></tw-process>
		Pay Â£1,000 {{$ctrl.currency1 | uppercase}}
	</button>
</form>
<div ng-if="$ctrl.complete">
	<tw-process state="1" size="xl"></tw-process>
	<p class="text-xs-center" style="margin-top: 64px;">Your transfer of <strong>$1,000</strong> to Diana is on it's way and is
		expected to reach her bank accounts today.  We have sent you a receipt
		via email.</p>
	<div class="row">
		<div class="col-md-6">
			<button class="btn btn-default btn-block">Share</button>
		</div>
		<div class="col-md-6">
			<button class="btn btn-primary btn-block">Track transfer</button>
		</div>
	</div>
</div>
